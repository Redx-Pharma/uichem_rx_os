<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />


  <title>uimols.helpers API documentation</title>
  <meta name="description" content="Module for providing generally useful utilities and helper functions" />


  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>

  <style type="text/css">
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}
</style>
  <style type="text/css">
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  }

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; }

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;

      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/
</style>
  <style type="text/css">
  pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.codehilite .hll { background-color: #ffffcc }
.codehilite { background: #f8f8f8; }
.codehilite .c { color: #3D7B7B; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #F00 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666 } /* Operator */
.codehilite .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #9C6500 } /* Comment.Preproc */
.codehilite .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .ges { font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.codehilite .gr { color: #E40000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #008400 } /* Generic.Inserted */
.codehilite .go { color: #717171 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #04D } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #687822 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #00F; font-weight: bold } /* Name.Class */
.codehilite .no { color: #800 } /* Name.Constant */
.codehilite .nd { color: #A2F } /* Name.Decorator */
.codehilite .ni { color: #717171; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #00F } /* Name.Function */
.codehilite .nl { color: #767600 } /* Name.Label */
.codehilite .nn { color: #00F; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #A2F; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #BBB } /* Text.Whitespace */
.codehilite .mb { color: #666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666 } /* Literal.Number.Float */
.codehilite .mh { color: #666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #A45A77 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #00F } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666 } /* Literal.Number.Integer.Long */
  </style>
  <style type="text/css">
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}
</style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>
<div id="container">




















  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3>Super-module</h3>
      <ul>
        <li class="mono"><a href="index.html">uimols</a></li>
      </ul>
    </li>
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>

  <ul>
    <li class="mono"><a href="#uimols.helpers.log">log</a></li>
    <li class="mono"><a href="#uimols.helpers.random_seed">random_seed</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>

  <ul>
    <li class="mono"><a href="#uimols.helpers.check_dfs_have_the_same_column_names">check_dfs_have_the_same_column_names</a></li>
    <li class="mono"><a href="#uimols.helpers.check_dfs_have_the_same_number_of_columns">check_dfs_have_the_same_number_of_columns</a></li>
    <li class="mono"><a href="#uimols.helpers.check_lengths_same_two_lists">check_lengths_same_two_lists</a></li>
    <li class="mono"><a href="#uimols.helpers.extract_and_remove_row_from_df">extract_and_remove_row_from_df</a></li>
    <li class="mono"><a href="#uimols.helpers.get_grid_layout">get_grid_layout</a></li>
    <li class="mono"><a href="#uimols.helpers.get_index_to_row_column_map">get_index_to_row_column_map</a></li>
    <li class="mono"><a href="#uimols.helpers.get_pd_column_subset">get_pd_column_subset</a></li>
    <li class="mono"><a href="#uimols.helpers.pandas_df_min_max_scale">pandas_df_min_max_scale</a></li>
    <li class="mono"><a href="#uimols.helpers.pandas_df_z_scale">pandas_df_z_scale</a></li>
    <li class="mono"><a href="#uimols.helpers.sort_list_using_another_list">sort_list_using_another_list</a></li>
  </ul>

    </li>


    </ul>
  </div>

<article id="content">





  <header id="section-intro">
  <h1 class="title"><span class="name">uimols.helpers</span> module</h1>
  <p>Module for providing generally useful utilities and helper functions</p>

  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers" class="source">
    <div class="codehilite"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Module for providing generally useful utilities and helper functions</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">zscore</span>

<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="n">random_seed</span> <span class="o">=</span> <span class="mi">15751</span>


<span class="k">def</span><span class="w"> </span><span class="nf">get_pd_column_subset</span><span class="p">(</span>
    <span class="n">data_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">cols_to_keep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cols_to_drop</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a copy of a data frame with all columns apart from the ones you wish to keep dropped</span>

<span class="sd">    Args:</span>
<span class="sd">        data_df (pd.DataFrame): Raw input dataframe</span>
<span class="sd">        cols_to_keep (Optional[List[str]], optional): list of the columns you want to keep. Defaults to None.</span>
<span class="sd">        cols_to_drop (Optional[List[str]], optional): list of the columns you want to remove. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: DataFrame with the columns dropped as requested</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">cols_to_drop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">cols_to_keep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;warning - please specify only the columns to keep or the columns to drop closing without dropping&quot;</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="n">cols_to_keep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># This should put df in the order from list cols_to_keep</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">data_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cols_to_keep</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">kerr</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;ERROR - getting all columns to keep&quot;</span><span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The data frame is missing columns </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">ent</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">ent</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">cols_to_keep</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">ent</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()])</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The columns in the dataframe are: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The dataframe is: </span><span class="si">{</span><span class="n">df</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">kerr</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">elif</span> <span class="n">cols_to_drop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">data_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">cols_to_drop</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kept columns: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;ERROR - columns to keep and drop specification error one must be specified please check in the input&quot;</span>
        <span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">check_lengths_same_two_lists</span><span class="p">(</span>
    <span class="n">iterable0</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">],</span> <span class="n">iterable1</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check the length of two lists or tuples are the same</span>

<span class="sd">    Args:</span>
<span class="sd">        iterable0 (Union[List, Tuple]): The first list or tuple</span>
<span class="sd">        iterable1 (Union[List, Tuple]): The second list or tuple</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Whether the two are the same size (True) or not (False)</span>

<span class="sd">    Doctest:</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], [&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;])</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists([&#39;a&#39;, &#39;d&#39;], [&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;])</span>
<span class="sd">    False</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists((&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;), (&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;))</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists((&#39;a&#39;, &#39;d&#39;), (&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;))</span>
<span class="sd">    False</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists((&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;), [&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;])</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists((&#39;a&#39;, &#39;d&#39;), [&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;])</span>
<span class="sd">    False</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">iterable0</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">iterable1</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>


<span class="k">def</span><span class="w"> </span><span class="nf">pandas_df_min_max_scale</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to min max normalize so all numerical columns are in the range [0, 1], but low values and high value maintain relative separation.</span>
<span class="sd">    This has poor performance if the min or max are outliers in the data.</span>

<span class="sd">    value_i&#39; = (value_i - min(column I)) / (max(column I) - min(column I))</span>

<span class="sd">    Args:</span>
<span class="sd">        df0 (pd.DataFrame): Data frame to normalize</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: normalized dataframe</span>

<span class="sd">    Doctest:</span>
<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame({&quot;A&quot;: [1.0, 1.25, 1.5, 2.0], &quot;B&quot;: [0.0, 0.25, 0.5, 1.0]})</span>
<span class="sd">    &gt;&gt;&gt; exp_df = pd.DataFrame({&quot;A&quot;: [0.0, 0.25, 0.5, 1.0], &quot;B&quot;: [0.0, 0.25, 0.5, 1.0]})</span>
<span class="sd">    &gt;&gt;&gt; norm_df = pandas_df_min_max_scale(df)</span>
<span class="sd">    &gt;&gt;&gt; exp_df.equals(norm_df)</span>
<span class="sd">    True</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">df</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">/</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>


<span class="k">def</span><span class="w"> </span><span class="nf">pandas_df_z_scale</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to run z score normalization so all numerical columns are in a normalized range i.e. the range of each column is unity but the scales for each column differ. This is better for</span>
<span class="sd">    when outliers are present in the data than min max scaling but lacks a common scale across columns.</span>

<span class="sd">    value_i&#39; = value_i - mean(column I) / std(column I)</span>

<span class="sd">    Args:</span>
<span class="sd">        df0 (pd.DataFrame): Data frame to normalize</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: normalized dataframe</span>

<span class="sd">    Doctest:</span>
<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame({&quot;A&quot;: [1.0, 1.25, 1.5, 2.0], &quot;B&quot;: [0.0, 0.25, 0.5, 1.0]})</span>
<span class="sd">    &gt;&gt;&gt; exp_df = pd.DataFrame({&quot;A&quot;: [-1.183216, -0.507093, 0.169031, 1.521278], &quot;B&quot;: [-1.183216, -0.507093, 0.169031, 1.521278]})</span>
<span class="sd">    &gt;&gt;&gt; norm_df = pandas_df_z_scale(df)</span>
<span class="sd">    &gt;&gt;&gt; exp_df.round(5).equals(norm_df.round(5))</span>
<span class="sd">    True</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">zscore</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">extract_and_remove_row_from_df</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">standard_unique_identifer_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="n">standard_unique_identifier</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pull out one row from a dataframe and stores it as a new dataframe (df_standard) then deletes this row from the origial dataframe (df).</span>
<span class="sd">    Returns both the original dataframe without the row and a new dataframe of just the row removed</span>

<span class="sd">    Args:</span>
<span class="sd">        df (pd.DataFrame): Dataframe to pull out one row from as new a dataframe and delete that row</span>
<span class="sd">        standard_unique_identifer_column (str): The column to use to identify the row to pull out and delete</span>
<span class="sd">        standard_unique_identifier (str): The value of the row in the standard_unique_identifer_column to define the row to pull out and delete</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[pd.DataFrame, pd.DataFrame]: First the input dataframe with the row deleted and second the row pulled out as a dataframe</span>

<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame({&quot;A&quot;: [&quot;A1&quot;, 2, 3 ,4], &quot;B&quot;: [&quot;B1&quot;, 2, 3, 4]}).transpose()</span>
<span class="sd">    &gt;&gt;&gt; df1, df2 = extract_and_remove_row_from_df(df, standard_unique_identifer_column=0, standard_unique_identifier=&quot;A1&quot;)</span>
<span class="sd">    &gt;&gt;&gt; df1.values.tolist() # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">    [[&#39;B1&#39;, 2, 3, 4]]</span>
<span class="sd">    &gt;&gt;&gt; df2.values.tolist() # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">    [[&#39;A1&#39;, 2, 3, 4]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">standard_unique_identifer_index</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span>
        <span class="n">df</span><span class="p">[</span><span class="n">standard_unique_identifer_column</span><span class="p">]</span> <span class="o">==</span> <span class="n">standard_unique_identifier</span>
    <span class="p">]</span><span class="o">.</span><span class="n">index</span>
    <span class="n">df_standard</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">standard_unique_identifer_index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()])</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="n">standard_unique_identifer_index</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="p">,</span> <span class="n">df_standard</span>


<span class="k">def</span><span class="w"> </span><span class="nf">check_dfs_have_the_same_number_of_columns</span><span class="p">(</span>
    <span class="n">df1</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">df2</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">df1_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;df1&quot;</span><span class="p">,</span>
    <span class="n">df2_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;df2&quot;</span><span class="p">,</span>
    <span class="n">raise_err</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check that the number of columns in two dataframes is the same</span>

<span class="sd">    Args:</span>
<span class="sd">        df1 (pd.DataFrame): The first dataframe to comppare the number of columns</span>
<span class="sd">        df2 (pd.DataFrame): The second dataframe to comppare the number of columns</span>
<span class="sd">        df1_name (str, optional): If you want to use a meaningful name for the error message for df1. Defaults to &quot;df1&quot;.</span>
<span class="sd">        df2_name (str, optional): If you want to use a meaningful name for the error message for df2. Defaults to &quot;df2&quot;.</span>
<span class="sd">        raise_err: (bool): whether to raise and error (True) or return False (False)</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: The number of columns is not the same if raised</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the number of columns is the same False or error raised if there are a different number</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">raise_err</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The number of objective columns for the </span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframes are different, they should be the same. (</span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns. </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns).&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The number of objective columns for the </span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframes are different, they should be the same. (</span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns. </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns).&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>


<span class="k">def</span><span class="w"> </span><span class="nf">check_dfs_have_the_same_column_names</span><span class="p">(</span>
    <span class="n">df1</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">df2</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">df1_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;df1&quot;</span><span class="p">,</span>
    <span class="n">df2_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;df2&quot;</span><span class="p">,</span>
    <span class="n">raise_err</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check that the  columns in two dataframes are named the same</span>

<span class="sd">    Args:</span>
<span class="sd">        df1 (pd.DataFrame): The first dataframe to comppare the number of columns</span>
<span class="sd">        df2 (pd.DataFrame): The second dataframe to comppare the number of columns</span>
<span class="sd">        df1_name (str, optional): If you want to use a meaningful name for the error message for df1. Defaults to &quot;df1&quot;.</span>
<span class="sd">        df2_name (str, optional): If you want to use a meaningful name for the error message for df2. Defaults to &quot;df2&quot;.</span>
<span class="sd">        raise_err: (bool): whether to raise and error (True) or return False (False)</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: The columns are not named the same if raised</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the columns are named the same False or error raised if the columns are named differently</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">ent</span> <span class="ow">in</span> <span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">raise_err</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The objective columns in the </span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframes are not the same.</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="si">}{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span><span class="si">}</span><span class="s2"> columns.</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="si">}{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span><span class="si">}</span><span class="s2"> columns.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The objective columns in the </span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframes are not the same.</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="si">}{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span><span class="si">}</span><span class="s2"> columns.</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="si">}{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span><span class="si">}</span><span class="s2"> columns.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>


<span class="k">def</span><span class="w"> </span><span class="nf">get_grid_layout</span><span class="p">(</span>
    <span class="n">n_mols</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mols_per_row</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">return_map</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Define a sub plot grid layout based on the number of molecules to plot and the number to show per row</span>

<span class="sd">    Args:</span>
<span class="sd">        n_mols (int): The number of molecules</span>
<span class="sd">        mols_per_row (int): The number of molecules to display on a row</span>
<span class="sd">        return_map (bool): Whether to return a map dictionary of a continous index for each molecule to it row and column in the grid layout</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[int, int]: number of rows, number of columns</span>

<span class="sd">    &gt;&gt;&gt; ret = get_grid_layout(4, 5)</span>
<span class="sd">    &gt;&gt;&gt; ret[0]</span>
<span class="sd">    1</span>
<span class="sd">    &gt;&gt;&gt; ret[1]</span>
<span class="sd">    4</span>
<span class="sd">    &gt;&gt;&gt; ret = get_grid_layout(10, 5)</span>
<span class="sd">    &gt;&gt;&gt; int(ret[0])</span>
<span class="sd">    2</span>
<span class="sd">    &gt;&gt;&gt; ret[1]</span>
<span class="sd">    5</span>
<span class="sd">    &gt;&gt;&gt; ret = get_grid_layout(12, 5)</span>
<span class="sd">    &gt;&gt;&gt; ret[0]</span>
<span class="sd">    3</span>
<span class="sd">    &gt;&gt;&gt; ret[1]</span>
<span class="sd">    5</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># set the layout assuming 5 columns asa default</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mols_per_row</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">mols_per_row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mols_per_row</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">n_mols</span> <span class="o">&lt;</span> <span class="n">mols_per_row</span><span class="p">:</span>
        <span class="n">n_rows</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">m_columns</span> <span class="o">=</span> <span class="n">n_mols</span>

    <span class="k">elif</span> <span class="n">n_mols</span> <span class="o">%</span> <span class="n">mols_per_row</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">n_rows</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_mols</span> <span class="o">/</span> <span class="n">mols_per_row</span><span class="p">)</span>
        <span class="n">m_columns</span> <span class="o">=</span> <span class="n">mols_per_row</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">n_rows</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">n_mols</span> <span class="o">/</span> <span class="n">mols_per_row</span><span class="p">))</span>
        <span class="n">m_columns</span> <span class="o">=</span> <span class="n">mols_per_row</span>

    <span class="k">if</span> <span class="n">return_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">index_to_row_column_map</span> <span class="o">=</span> <span class="n">get_index_to_row_column_map</span><span class="p">(</span><span class="n">n_mols</span><span class="p">,</span> <span class="n">mols_per_row</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">m_columns</span><span class="p">,</span> <span class="n">index_to_row_column_map</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_rows</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">m_columns</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">get_index_to_row_column_map</span><span class="p">(</span><span class="n">n_mols</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mols_per_row</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a map of the index to the row and column in a grid layout</span>

<span class="sd">    Args:</span>
<span class="sd">        n_mols (int): The number of molecules</span>
<span class="sd">        mols_per_row (int): The number of molecules to display on a row</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The index to row and column mapping</span>

<span class="sd">    &gt;&gt;&gt; get_index_to_row_column_map(4, 2) # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">    {0: (0, 0), 1: (0, 1), 2: (1, 0), 3: (1, 1)}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">index_to_row_column_map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">ith</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_mols</span><span class="p">):</span>
        <span class="n">index_to_row_column_map</span><span class="p">[</span><span class="n">ith</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="n">mols_per_row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">index_to_row_column_map</span>


<span class="k">def</span><span class="w"> </span><span class="nf">sort_list_using_another_list</span><span class="p">(</span>
    <span class="n">list_to_sort</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">list_to_sort_by</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">no_internal_sort</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to sort a list using another list. We assume the two lists are the same length and in the same order. Assuming the list_to_sort_by</span>
<span class="sd">    is a list of unique values which can be ordered by sorted(). We then sort the list_to_sort_by using sorted() and then use the sorted order to</span>
<span class="sd">    map the list_to_sort to the sorted() order of list_to_sort_by.</span>

<span class="sd">    If you set no_internal_sort to True then the list_to_sort_by will not be sorted before the order is determined.</span>

<span class="sd">    Args:</span>
<span class="sd">        list_to_sort (list): The list to sort</span>
<span class="sd">        list_to_sort_by (list): The list to sort by. This will be passed to sorted() to get the order so should be a list or numbers or letters.</span>
<span class="sd">        no_internal_sort (bool): If you want to sort the list_to_sort_by before sorting the list_to_sort</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: The list sorted by the order of the list_to_sort_by</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">no_internal_sort</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="n">list_to_sort_by</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">ent</span><span class="p">)</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">list_to_sort_by</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="n">list_to_sort_by</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">ent</span><span class="p">)</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">list_to_sort_by</span><span class="p">]</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">list_to_sort</span><span class="p">[</span><span class="n">ith</span><span class="p">]</span> <span class="k">for</span> <span class="n">ith</span> <span class="ow">in</span> <span class="n">order</span><span class="p">]</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">doctest</span>

    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="uimols.helpers.log" class="name">var <span class="ident">log</span></p>


  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="uimols.helpers.random_seed" class="name">var <span class="ident">random_seed</span></p>


  <div class="source_cont">
</div>

      </div>

    <h2 class="section-title" id="header-functions">Functions</h2>

  <div class="item">
    <div class="name def" id="uimols.helpers.check_dfs_have_the_same_column_names">
    <p>def <span class="ident">check_dfs_have_the_same_column_names</span>(</p><p>df1: pandas.core.frame.DataFrame, df2: pandas.core.frame.DataFrame, df1_name: str = &#39;df1&#39;, df2_name: str = &#39;df2&#39;, raise_err: bool = True)</p>
    </div>




    <div class="desc"><p>Check that the  columns in two dataframes are named the same</p>
<p>Args:
    df1 (pd.DataFrame): The first dataframe to comppare the number of columns
    df2 (pd.DataFrame): The second dataframe to comppare the number of columns
    df1_name (str, optional): If you want to use a meaningful name for the error message for df1. Defaults to "df1".
    df2_name (str, optional): If you want to use a meaningful name for the error message for df2. Defaults to "df2".
    raise_err: (bool): whether to raise and error (True) or return False (False)</p>
<p>Raises:
    AssertionError: The columns are not named the same if raised</p>
<p>Returns:
    bool: True if the columns are named the same False or error raised if the columns are named differently</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.check_dfs_have_the_same_column_names', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.check_dfs_have_the_same_column_names" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">check_dfs_have_the_same_column_names</span><span class="p">(</span>
    <span class="n">df1</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">df2</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">df1_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;df1&quot;</span><span class="p">,</span>
    <span class="n">df2_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;df2&quot;</span><span class="p">,</span>
    <span class="n">raise_err</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check that the  columns in two dataframes are named the same</span>

<span class="sd">    Args:</span>
<span class="sd">        df1 (pd.DataFrame): The first dataframe to comppare the number of columns</span>
<span class="sd">        df2 (pd.DataFrame): The second dataframe to comppare the number of columns</span>
<span class="sd">        df1_name (str, optional): If you want to use a meaningful name for the error message for df1. Defaults to &quot;df1&quot;.</span>
<span class="sd">        df2_name (str, optional): If you want to use a meaningful name for the error message for df2. Defaults to &quot;df2&quot;.</span>
<span class="sd">        raise_err: (bool): whether to raise and error (True) or return False (False)</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: The columns are not named the same if raised</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the columns are named the same False or error raised if the columns are named differently</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">ent</span> <span class="ow">in</span> <span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">raise_err</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The objective columns in the </span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframes are not the same.</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="si">}{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span><span class="si">}</span><span class="s2"> columns.</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="si">}{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span><span class="si">}</span><span class="s2"> columns.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The objective columns in the </span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframes are not the same.</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="si">}{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span><span class="si">}</span><span class="s2"> columns.</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="si">}{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span><span class="si">}</span><span class="s2"> columns.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.check_dfs_have_the_same_number_of_columns">
    <p>def <span class="ident">check_dfs_have_the_same_number_of_columns</span>(</p><p>df1: pandas.core.frame.DataFrame, df2: pandas.core.frame.DataFrame, df1_name: str = &#39;df1&#39;, df2_name: str = &#39;df2&#39;, raise_err: bool = True)</p>
    </div>




    <div class="desc"><p>Check that the number of columns in two dataframes is the same</p>
<p>Args:
    df1 (pd.DataFrame): The first dataframe to comppare the number of columns
    df2 (pd.DataFrame): The second dataframe to comppare the number of columns
    df1_name (str, optional): If you want to use a meaningful name for the error message for df1. Defaults to "df1".
    df2_name (str, optional): If you want to use a meaningful name for the error message for df2. Defaults to "df2".
    raise_err: (bool): whether to raise and error (True) or return False (False)</p>
<p>Raises:
    AssertionError: The number of columns is not the same if raised</p>
<p>Returns:
    bool: True if the number of columns is the same False or error raised if there are a different number</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.check_dfs_have_the_same_number_of_columns', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.check_dfs_have_the_same_number_of_columns" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">check_dfs_have_the_same_number_of_columns</span><span class="p">(</span>
    <span class="n">df1</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">df2</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">df1_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;df1&quot;</span><span class="p">,</span>
    <span class="n">df2_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;df2&quot;</span><span class="p">,</span>
    <span class="n">raise_err</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check that the number of columns in two dataframes is the same</span>

<span class="sd">    Args:</span>
<span class="sd">        df1 (pd.DataFrame): The first dataframe to comppare the number of columns</span>
<span class="sd">        df2 (pd.DataFrame): The second dataframe to comppare the number of columns</span>
<span class="sd">        df1_name (str, optional): If you want to use a meaningful name for the error message for df1. Defaults to &quot;df1&quot;.</span>
<span class="sd">        df2_name (str, optional): If you want to use a meaningful name for the error message for df2. Defaults to &quot;df2&quot;.</span>
<span class="sd">        raise_err: (bool): whether to raise and error (True) or return False (False)</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: The number of columns is not the same if raised</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the number of columns is the same False or error raised if there are a different number</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">raise_err</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The number of objective columns for the </span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframes are different, they should be the same. (</span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns. </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns).&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The number of objective columns for the </span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframes are different, they should be the same. (</span><span class="si">{</span><span class="n">df1_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns. </span><span class="si">{</span><span class="n">df2_name</span><span class="si">}</span><span class="s2"> dataframe has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns).&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.check_lengths_same_two_lists">
    <p>def <span class="ident">check_lengths_same_two_lists</span>(</p><p>iterable0: Union[List, Tuple], iterable1: Union[List, Tuple])</p>
    </div>




    <div class="desc"><p>Check the length of two lists or tuples are the same</p>
<p>Args:
    iterable0 (Union[List, Tuple]): The first list or tuple
    iterable1 (Union[List, Tuple]): The second list or tuple</p>
<p>Returns:
    bool: Whether the two are the same size (True) or not (False)</p>
<p>Doctest:</p>
<blockquote>
<blockquote>
<blockquote>
<p>check_lengths_same_two_lists(['a', 'b', 'c', 'd'], ['e', 'f', 'g', 'h'])
True
check_lengths_same_two_lists(['a', 'd'], ['e', 'f', 'g', 'h'])
False
check_lengths_same_two_lists(('a', 'b', 'c', 'd'), ('e', 'f', 'g', 'h'))
True
check_lengths_same_two_lists(('a', 'd'), ('e', 'f', 'g', 'h'))
False
check_lengths_same_two_lists(('a', 'b', 'c', 'd'), ['e', 'f', 'g', 'h'])
True
check_lengths_same_two_lists(('a', 'd'), ['e', 'f', 'g', 'h'])
False</p>
</blockquote>
</blockquote>
</blockquote></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.check_lengths_same_two_lists', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.check_lengths_same_two_lists" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">check_lengths_same_two_lists</span><span class="p">(</span>
    <span class="n">iterable0</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">],</span> <span class="n">iterable1</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check the length of two lists or tuples are the same</span>

<span class="sd">    Args:</span>
<span class="sd">        iterable0 (Union[List, Tuple]): The first list or tuple</span>
<span class="sd">        iterable1 (Union[List, Tuple]): The second list or tuple</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Whether the two are the same size (True) or not (False)</span>

<span class="sd">    Doctest:</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], [&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;])</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists([&#39;a&#39;, &#39;d&#39;], [&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;])</span>
<span class="sd">    False</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists((&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;), (&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;))</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists((&#39;a&#39;, &#39;d&#39;), (&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;))</span>
<span class="sd">    False</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists((&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;), [&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;])</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; check_lengths_same_two_lists((&#39;a&#39;, &#39;d&#39;), [&#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;])</span>
<span class="sd">    False</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">iterable0</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">iterable1</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.extract_and_remove_row_from_df">
    <p>def <span class="ident">extract_and_remove_row_from_df</span>(</p><p>df: pandas.core.frame.DataFrame, standard_unique_identifer_column: Union[str, int], standard_unique_identifier: Union[str, int, float])</p>
    </div>




    <div class="desc"><p>Pull out one row from a dataframe and stores it as a new dataframe (df_standard) then deletes this row from the origial dataframe (df).
Returns both the original dataframe without the row and a new dataframe of just the row removed</p>
<p>Args:
    df (pd.DataFrame): Dataframe to pull out one row from as new a dataframe and delete that row
    standard_unique_identifer_column (str): The column to use to identify the row to pull out and delete
    standard_unique_identifier (str): The value of the row in the standard_unique_identifer_column to define the row to pull out and delete</p>
<p>Returns:
    Tuple[pd.DataFrame, pd.DataFrame]: First the input dataframe with the row deleted and second the row pulled out as a dataframe</p>
<blockquote>
<blockquote>
<blockquote>
<p>df = pd.DataFrame({"A": ["A1", 2, 3 ,4], "B": ["B1", 2, 3, 4]}).transpose()
df1, df2 = extract_and_remove_row_from_df(df, standard_unique_identifer_column=0, standard_unique_identifier="A1")
df1.values.tolist() # doctest: +NORMALIZE_WHITESPACE
[['B1', 2, 3, 4]]
df2.values.tolist() # doctest: +NORMALIZE_WHITESPACE
[['A1', 2, 3, 4]]</p>
</blockquote>
</blockquote>
</blockquote></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.extract_and_remove_row_from_df', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.extract_and_remove_row_from_df" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">extract_and_remove_row_from_df</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">standard_unique_identifer_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="n">standard_unique_identifier</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pull out one row from a dataframe and stores it as a new dataframe (df_standard) then deletes this row from the origial dataframe (df).</span>
<span class="sd">    Returns both the original dataframe without the row and a new dataframe of just the row removed</span>

<span class="sd">    Args:</span>
<span class="sd">        df (pd.DataFrame): Dataframe to pull out one row from as new a dataframe and delete that row</span>
<span class="sd">        standard_unique_identifer_column (str): The column to use to identify the row to pull out and delete</span>
<span class="sd">        standard_unique_identifier (str): The value of the row in the standard_unique_identifer_column to define the row to pull out and delete</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[pd.DataFrame, pd.DataFrame]: First the input dataframe with the row deleted and second the row pulled out as a dataframe</span>

<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame({&quot;A&quot;: [&quot;A1&quot;, 2, 3 ,4], &quot;B&quot;: [&quot;B1&quot;, 2, 3, 4]}).transpose()</span>
<span class="sd">    &gt;&gt;&gt; df1, df2 = extract_and_remove_row_from_df(df, standard_unique_identifer_column=0, standard_unique_identifier=&quot;A1&quot;)</span>
<span class="sd">    &gt;&gt;&gt; df1.values.tolist() # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">    [[&#39;B1&#39;, 2, 3, 4]]</span>
<span class="sd">    &gt;&gt;&gt; df2.values.tolist() # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">    [[&#39;A1&#39;, 2, 3, 4]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">standard_unique_identifer_index</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span>
        <span class="n">df</span><span class="p">[</span><span class="n">standard_unique_identifer_column</span><span class="p">]</span> <span class="o">==</span> <span class="n">standard_unique_identifier</span>
    <span class="p">]</span><span class="o">.</span><span class="n">index</span>
    <span class="n">df_standard</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">standard_unique_identifer_index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()])</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="n">standard_unique_identifer_index</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="p">,</span> <span class="n">df_standard</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.get_grid_layout">
    <p>def <span class="ident">get_grid_layout</span>(</p><p>n_mols: int, mols_per_row: int = 5, return_map: bool = False)</p>
    </div>




    <div class="desc"><p>Define a sub plot grid layout based on the number of molecules to plot and the number to show per row</p>
<p>Args:
    n_mols (int): The number of molecules
    mols_per_row (int): The number of molecules to display on a row
    return_map (bool): Whether to return a map dictionary of a continous index for each molecule to it row and column in the grid layout</p>
<p>Returns:
    Tuple[int, int]: number of rows, number of columns</p>
<blockquote>
<blockquote>
<blockquote>
<p>ret = get_grid_layout(4, 5)
ret[0]
1
ret[1]
4
ret = get_grid_layout(10, 5)
int(ret[0])
2
ret[1]
5
ret = get_grid_layout(12, 5)
ret[0]
3
ret[1]
5</p>
</blockquote>
</blockquote>
</blockquote></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.get_grid_layout', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.get_grid_layout" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_grid_layout</span><span class="p">(</span>
    <span class="n">n_mols</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mols_per_row</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">return_map</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Define a sub plot grid layout based on the number of molecules to plot and the number to show per row</span>

<span class="sd">    Args:</span>
<span class="sd">        n_mols (int): The number of molecules</span>
<span class="sd">        mols_per_row (int): The number of molecules to display on a row</span>
<span class="sd">        return_map (bool): Whether to return a map dictionary of a continous index for each molecule to it row and column in the grid layout</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[int, int]: number of rows, number of columns</span>

<span class="sd">    &gt;&gt;&gt; ret = get_grid_layout(4, 5)</span>
<span class="sd">    &gt;&gt;&gt; ret[0]</span>
<span class="sd">    1</span>
<span class="sd">    &gt;&gt;&gt; ret[1]</span>
<span class="sd">    4</span>
<span class="sd">    &gt;&gt;&gt; ret = get_grid_layout(10, 5)</span>
<span class="sd">    &gt;&gt;&gt; int(ret[0])</span>
<span class="sd">    2</span>
<span class="sd">    &gt;&gt;&gt; ret[1]</span>
<span class="sd">    5</span>
<span class="sd">    &gt;&gt;&gt; ret = get_grid_layout(12, 5)</span>
<span class="sd">    &gt;&gt;&gt; ret[0]</span>
<span class="sd">    3</span>
<span class="sd">    &gt;&gt;&gt; ret[1]</span>
<span class="sd">    5</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># set the layout assuming 5 columns asa default</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mols_per_row</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">mols_per_row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mols_per_row</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">n_mols</span> <span class="o">&lt;</span> <span class="n">mols_per_row</span><span class="p">:</span>
        <span class="n">n_rows</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">m_columns</span> <span class="o">=</span> <span class="n">n_mols</span>

    <span class="k">elif</span> <span class="n">n_mols</span> <span class="o">%</span> <span class="n">mols_per_row</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">n_rows</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_mols</span> <span class="o">/</span> <span class="n">mols_per_row</span><span class="p">)</span>
        <span class="n">m_columns</span> <span class="o">=</span> <span class="n">mols_per_row</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">n_rows</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">n_mols</span> <span class="o">/</span> <span class="n">mols_per_row</span><span class="p">))</span>
        <span class="n">m_columns</span> <span class="o">=</span> <span class="n">mols_per_row</span>

    <span class="k">if</span> <span class="n">return_map</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">index_to_row_column_map</span> <span class="o">=</span> <span class="n">get_index_to_row_column_map</span><span class="p">(</span><span class="n">n_mols</span><span class="p">,</span> <span class="n">mols_per_row</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">m_columns</span><span class="p">,</span> <span class="n">index_to_row_column_map</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">n_rows</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">m_columns</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.get_index_to_row_column_map">
    <p>def <span class="ident">get_index_to_row_column_map</span>(</p><p>n_mols: int, mols_per_row: int)</p>
    </div>




    <div class="desc"><p>Get a map of the index to the row and column in a grid layout</p>
<p>Args:
    n_mols (int): The number of molecules
    mols_per_row (int): The number of molecules to display on a row</p>
<p>Returns:
    dict: The index to row and column mapping</p>
<blockquote>
<blockquote>
<blockquote>
<p 0: 0_="0)," 1: 1_="1)" 2: 3: _0_="(0," _1_="(1,">get_index_to_row_column_map(4, 2) # doctest: +NORMALIZE_WHITESPACE</p>
</blockquote>
</blockquote>
</blockquote></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.get_index_to_row_column_map', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.get_index_to_row_column_map" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_index_to_row_column_map</span><span class="p">(</span><span class="n">n_mols</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">mols_per_row</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a map of the index to the row and column in a grid layout</span>

<span class="sd">    Args:</span>
<span class="sd">        n_mols (int): The number of molecules</span>
<span class="sd">        mols_per_row (int): The number of molecules to display on a row</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The index to row and column mapping</span>

<span class="sd">    &gt;&gt;&gt; get_index_to_row_column_map(4, 2) # doctest: +NORMALIZE_WHITESPACE</span>
<span class="sd">    {0: (0, 0), 1: (0, 1), 2: (1, 0), 3: (1, 1)}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">index_to_row_column_map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">ith</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_mols</span><span class="p">):</span>
        <span class="n">index_to_row_column_map</span><span class="p">[</span><span class="n">ith</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="n">mols_per_row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">index_to_row_column_map</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.get_pd_column_subset">
    <p>def <span class="ident">get_pd_column_subset</span>(</p><p>data_df: pandas.core.frame.DataFrame, cols_to_keep: Optional[List[str]] = None, cols_to_drop: Optional[List[str]] = None)</p>
    </div>




    <div class="desc"><p>Get a copy of a data frame with all columns apart from the ones you wish to keep dropped</p>
<p>Args:
    data_df (pd.DataFrame): Raw input dataframe
    cols_to_keep (Optional[List[str]], optional): list of the columns you want to keep. Defaults to None.
    cols_to_drop (Optional[List[str]], optional): list of the columns you want to remove. Defaults to None.</p>
<p>Returns:
    pd.DataFrame: DataFrame with the columns dropped as requested</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.get_pd_column_subset', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.get_pd_column_subset" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_pd_column_subset</span><span class="p">(</span>
    <span class="n">data_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">cols_to_keep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cols_to_drop</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a copy of a data frame with all columns apart from the ones you wish to keep dropped</span>

<span class="sd">    Args:</span>
<span class="sd">        data_df (pd.DataFrame): Raw input dataframe</span>
<span class="sd">        cols_to_keep (Optional[List[str]], optional): list of the columns you want to keep. Defaults to None.</span>
<span class="sd">        cols_to_drop (Optional[List[str]], optional): list of the columns you want to remove. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: DataFrame with the columns dropped as requested</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">cols_to_drop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">cols_to_keep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;warning - please specify only the columns to keep or the columns to drop closing without dropping&quot;</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="n">cols_to_keep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># This should put df in the order from list cols_to_keep</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">data_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cols_to_keep</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">kerr</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;ERROR - getting all columns to keep&quot;</span><span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The data frame is missing columns </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">ent</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">ent</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">cols_to_keep</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">ent</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()])</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The columns in the dataframe are: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The dataframe is: </span><span class="si">{</span><span class="n">df</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">kerr</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">elif</span> <span class="n">cols_to_drop</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">data_df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">cols_to_drop</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kept columns: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;ERROR - columns to keep and drop specification error one must be specified please check in the input&quot;</span>
        <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.pandas_df_min_max_scale">
    <p>def <span class="ident">pandas_df_min_max_scale</span>(</p><p>df: pandas.core.frame.DataFrame)</p>
    </div>




    <div class="desc"><p>Function to min max normalize so all numerical columns are in the range [0, 1], but low values and high value maintain relative separation.
This has poor performance if the min or max are outliers in the data.</p>
<p>value_i' = (value_i - min(column I)) / (max(column I) - min(column I))</p>
<p>Args:
    df0 (pd.DataFrame): Data frame to normalize</p>
<p>Returns:
    pd.DataFrame: normalized dataframe</p>
<p>Doctest:</p>
<blockquote>
<blockquote>
<blockquote>
<p>df = pd.DataFrame({"A": [1.0, 1.25, 1.5, 2.0], "B": [0.0, 0.25, 0.5, 1.0]})
exp_df = pd.DataFrame({"A": [0.0, 0.25, 0.5, 1.0], "B": [0.0, 0.25, 0.5, 1.0]})
norm_df = pandas_df_min_max_scale(df)
exp_df.equals(norm_df)
True</p>
</blockquote>
</blockquote>
</blockquote></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.pandas_df_min_max_scale', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.pandas_df_min_max_scale" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">pandas_df_min_max_scale</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to min max normalize so all numerical columns are in the range [0, 1], but low values and high value maintain relative separation.</span>
<span class="sd">    This has poor performance if the min or max are outliers in the data.</span>

<span class="sd">    value_i&#39; = (value_i - min(column I)) / (max(column I) - min(column I))</span>

<span class="sd">    Args:</span>
<span class="sd">        df0 (pd.DataFrame): Data frame to normalize</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: normalized dataframe</span>

<span class="sd">    Doctest:</span>
<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame({&quot;A&quot;: [1.0, 1.25, 1.5, 2.0], &quot;B&quot;: [0.0, 0.25, 0.5, 1.0]})</span>
<span class="sd">    &gt;&gt;&gt; exp_df = pd.DataFrame({&quot;A&quot;: [0.0, 0.25, 0.5, 1.0], &quot;B&quot;: [0.0, 0.25, 0.5, 1.0]})</span>
<span class="sd">    &gt;&gt;&gt; norm_df = pandas_df_min_max_scale(df)</span>
<span class="sd">    &gt;&gt;&gt; exp_df.equals(norm_df)</span>
<span class="sd">    True</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">df</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">/</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.pandas_df_z_scale">
    <p>def <span class="ident">pandas_df_z_scale</span>(</p><p>df: pandas.core.frame.DataFrame)</p>
    </div>




    <div class="desc"><p>Function to run z score normalization so all numerical columns are in a normalized range i.e. the range of each column is unity but the scales for each column differ. This is better for
when outliers are present in the data than min max scaling but lacks a common scale across columns.</p>
<p>value_i' = value_i - mean(column I) / std(column I)</p>
<p>Args:
    df0 (pd.DataFrame): Data frame to normalize</p>
<p>Returns:
    pd.DataFrame: normalized dataframe</p>
<p>Doctest:</p>
<blockquote>
<blockquote>
<blockquote>
<p>df = pd.DataFrame({"A": [1.0, 1.25, 1.5, 2.0], "B": [0.0, 0.25, 0.5, 1.0]})
exp_df = pd.DataFrame({"A": [-1.183216, -0.507093, 0.169031, 1.521278], "B": [-1.183216, -0.507093, 0.169031, 1.521278]})
norm_df = pandas_df_z_scale(df)
exp_df.round(5).equals(norm_df.round(5))
True</p>
</blockquote>
</blockquote>
</blockquote></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.pandas_df_z_scale', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.pandas_df_z_scale" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">pandas_df_z_scale</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to run z score normalization so all numerical columns are in a normalized range i.e. the range of each column is unity but the scales for each column differ. This is better for</span>
<span class="sd">    when outliers are present in the data than min max scaling but lacks a common scale across columns.</span>

<span class="sd">    value_i&#39; = value_i - mean(column I) / std(column I)</span>

<span class="sd">    Args:</span>
<span class="sd">        df0 (pd.DataFrame): Data frame to normalize</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: normalized dataframe</span>

<span class="sd">    Doctest:</span>
<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame({&quot;A&quot;: [1.0, 1.25, 1.5, 2.0], &quot;B&quot;: [0.0, 0.25, 0.5, 1.0]})</span>
<span class="sd">    &gt;&gt;&gt; exp_df = pd.DataFrame({&quot;A&quot;: [-1.183216, -0.507093, 0.169031, 1.521278], &quot;B&quot;: [-1.183216, -0.507093, 0.169031, 1.521278]})</span>
<span class="sd">    &gt;&gt;&gt; norm_df = pandas_df_z_scale(df)</span>
<span class="sd">    &gt;&gt;&gt; exp_df.round(5).equals(norm_df.round(5))</span>
<span class="sd">    True</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">zscore</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>


  <div class="item">
    <div class="name def" id="uimols.helpers.sort_list_using_another_list">
    <p>def <span class="ident">sort_list_using_another_list</span>(</p><p>list_to_sort: list, list_to_sort_by: list, no_internal_sort: bool = False)</p>
    </div>




    <div class="desc"><p>Function to sort a list using another list. We assume the two lists are the same length and in the same order. Assuming the list_to_sort_by
is a list of unique values which can be ordered by sorted(). We then sort the list_to_sort_by using sorted() and then use the sorted order to
map the list_to_sort to the sorted() order of list_to_sort_by.</p>
<p>If you set no_internal_sort to True then the list_to_sort_by will not be sorted before the order is determined.</p>
<p>Args:
    list_to_sort (list): The list to sort
    list_to_sort_by (list): The list to sort by. This will be passed to sorted() to get the order so should be a list or numbers or letters.
    no_internal_sort (bool): If you want to sort the list_to_sort_by before sorting the list_to_sort</p>
<p>Returns:
    list: The list sorted by the order of the list_to_sort_by</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-uimols.helpers.sort_list_using_another_list', this);">Show source &equiv;</a></p>
  <div id="source-uimols.helpers.sort_list_using_another_list" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">sort_list_using_another_list</span><span class="p">(</span>
    <span class="n">list_to_sort</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">list_to_sort_by</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">no_internal_sort</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to sort a list using another list. We assume the two lists are the same length and in the same order. Assuming the list_to_sort_by</span>
<span class="sd">    is a list of unique values which can be ordered by sorted(). We then sort the list_to_sort_by using sorted() and then use the sorted order to</span>
<span class="sd">    map the list_to_sort to the sorted() order of list_to_sort_by.</span>

<span class="sd">    If you set no_internal_sort to True then the list_to_sort_by will not be sorted before the order is determined.</span>

<span class="sd">    Args:</span>
<span class="sd">        list_to_sort (list): The list to sort</span>
<span class="sd">        list_to_sort_by (list): The list to sort by. This will be passed to sorted() to get the order so should be a list or numbers or letters.</span>
<span class="sd">        no_internal_sort (bool): If you want to sort the list_to_sort_by before sorting the list_to_sort</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: The list sorted by the order of the list_to_sort_by</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">no_internal_sort</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="n">list_to_sort_by</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">ent</span><span class="p">)</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">list_to_sort_by</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="n">list_to_sort_by</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">ent</span><span class="p">)</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">list_to_sort_by</span><span class="p">]</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">list_to_sort</span><span class="p">[</span><span class="n">ith</span><span class="p">]</span> <span class="k">for</span> <span class="n">ith</span> <span class="ow">in</span> <span class="n">order</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>



  </section>
</article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Generated by <a href="https://github.com/timothycrosley/pdocs">pdocs 1.2.0</a>
    </p>
  </footer>
</div>
</body>
</html>
